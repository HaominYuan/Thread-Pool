- 线程池大体来说分为两个部分，一个是工作队列，另一个是线程数组。
- 当向线程池提交任务时，分为两种情况。第一种情况是存在空闲的线程，此时直接将这个任务分配给空闲的线程，若不存在空闲的线程，则需等待。
- 因此工作队列的用处在于存储那些需要等待的任务。
- 工作队列的实现是基于链表而非数组。一个好处是我们任务的添加和任务的移除没有任何的关联。因此效率有所提升。
- 当线程池初始化时，会将所有的线程启动，并向工作队列请求任务，当没有任务时，线程将进入睡眠状态。直到有任务添加到队列时，线程将被唤醒。
- 具体来说，所谓的任务只是两个指针，一个是函数指针，指向的是用户提交的函数，另一个是参数。
- zem 是关于锁的文件、squeue 是关于安全队列的文件、tpool 是关于线程池的文件。
- 目前线程池锁存在的缺陷：尚未解决销毁线程池时，有新的任务添加到线程池中，此时将报错。